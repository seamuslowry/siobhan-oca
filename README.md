This is a [Next.js](https://nextjs.org) project built to host a personal and professional site for Siobhan Oca.

## Configuration

Many aspects of this site are designed to configurable through `.yaml` file changes and placement of images or video files rather than direct code changes for easy updates.

## Cross-Page Configuration

### Metadata

All pages configuration files have a metadata field. It will always appear in the below structure.

- `metadata`: An object containing the metadata to use for the page. Any [NextJS metadata fields](https://nextjs.org/docs/app/api-reference/functions/generate-metadata#metadata-fields) assignable through YAML syntax may be set in this section. The most important are listed below.
    - `title`: This is the title of the page and will display on the tab in the browser.
    - `description`: This is a description of the page primarily displayed in site summaries generated by search engines or when messaging clients generate a link preview.

### Stylable Text

Some displayed text is configurable in its sizing and position. Those fields will be flagged as stylable and will link to this section. Fields defined like this may be either a raw string
```yaml
field: just a yaml string
```
or they can be a yaml object that specifies the text and any styling to apply to the text.
```yaml
field:
    text: this text will be 3xl, underlined, bold, and centered
    size: 3xl
    underline: true
    bold: true
    align: center
``` 

All configurable values are optional except for the `text` to display. The configurable values are
- `text`: The text to display.
- `bold`: A boolean value. If true, the text will be bolded.
- `italic`: A boolean value. If true, the text will be italicized.
- `underline`: A boolean value. If true, the text will be underlined.
- `align`: The alignment of the text. Valid values are
    - `left`
    - `center`
    - `right`
- `whitespace`: A value to use for CSS whitespace. This is useful if linebreaks in the raw text shoud be preserved. Valid values are
    - `normal`
    - `pre-wrap`
- `tag`: The actual HTML tag to render on the page. This won't affect display, but may help screen readers semantically. Valid values are
    - `p`
    - `h1`
    - `h2`
    - `h3`
    - `span`
- `size`: The size of the text to display. Valid values are
    - `xs`
    - `sm`
    - `base`
    - `lg`
    - `xl`
    - `2xl`
    - `3xl`
    - `4xl`
    - `5xl`
    - `6xl`

### Media

Media on pages can be either an image or an mp4 video. The fields are:
- `type`: The type of media. Valid values are
    - `mp4`
    - `image`
- `filename`: The name of the media file. Where the file must be found depends on the type.
    - For type `mp4`, the file must be found in same directory as the defining `content.yaml` file.
    - For type `image`, the file must be found in the corresponding `/assets` directory.
- `alt`: The alt text for the media.
    - For type `mp4`, this is the text that will display is the client cannot support MP4 video. No modern clients have this restriction. So the value is optional.
    - For type `image`, this is the alt text for the image. This is an important accessibility field so the field is required.

## Home Page

### Text

The text for this page is stored in `/public/home/content.yaml`. The fields are:
- `metadata`: See [metadata](#metadata).
- `hero`: This section contains configuration for the hero image.
    - `alt`: The alt text for the hero image.
- `banner`: This section contains configuration for the banner above the hero image.
    - `alt`: The alt text for the banner image.
    - `title` ([stylable](#stylable-text)): The text just below the image. Without explicit styling, this will default to `size: 3xl`.
    - `email`: The email address below the title. The site will attempt to structure this as a `mailto:${email}` link in addition to displaying the text.
    - `content`: An array of ([stylable](#stylable-text)) strings. Each string will be displayed under the banner in a separate paragraph tag. This was tested with 2 elements. An excessively long list may cause the banner content to compress, overflow, or extend beyond the hero image.

### Hero Image

The hero image for the site is stored in `/assets/home/hero.png`. This image should be large and high-quality with a focus on the center horizontal.
For screens smaller than 640px horizontally, the image will not be shown.

### Banner Image

The banner image for the site is stored in `/assets/home/banner.png`. This image should be high-quality and with a 1:1 aspect ratio. It will be cropped to a rounded circle and is intended for a face or logo. It will show on all resolutions of screen.

## Teaching Page

The content for this page is stored in `/public/courses/content.yaml`. The fields are:
- `metadata`: See [metadata](#metadata).
- `courses`: An array of objects describing the courses on this page. Each element is an object described below.
    - `name` ([stylable](#stylable-text)): The name of the course. Without explicit styling, this will default to `size: 5xl`, `underline: true`, and `tag: h2`.
    - `syllabus`: The filename to link to as the syllabus. This file _must_ be in the same directory as the `content.yaml` file. This will be linked from the name of the course.
    - `summary`: An array of ([stylable](#stylable-text)) strings. This will display immediately under the course title.
    - `projects`: An array of objects describing the projects associated to this course. Each element is an object described below. This field is optional.
        - `name`: ([stylable](#stylable-text)): The name of the project. Without explicit styling, this will default to `size: 2xl`.
        - `collaborators`: An array of objects describing the collaborators on this project. This field is optional.
            - `type`: The type of collaborator. Valid values are
                - `STUDENT`
                - `ACADEMIC`
            - `name` ([stylable](#stylable-text)): The name of the collaborator. Future work intends to support linking these names to same-site or external pages. Without explicit styling, this will default to `italic: true` and `tag: span`. These appear inside a `p` tag as part of a comma separated list with a label. Neither the comma nor the label is stylable.
            - `slug`: A slug corresponding to a team member. This field is optional. If present, a link to this project will appear under the team member on the [Team Page](#team-page).
        - `media`: An array of [media objects](#media) describing media to display for this project. This field is optional. Images must be found in the `/assets/courses` directory.

## Research Page (The Oca Lab)

### Text

The text for this page is stored in `/public/research/content.yaml`. The fields are:
- `metadata`: See [metadata](#metadata).
- `topics`: An array of objects describing the research topics on this page. Each element is an object described below.
    - `name` ([stylable](#stylable-text)): The name of the topic. Without explicit styling, this will default to `size: 5xl` and `tag: h2`.
    - `description`: An array of objects comprising a description of the topic. This may contain either [text](#stylable-text) or [media](#media) elements. They will be displayed in the order they are specified. MP4 files must be in the same directory as the `content.yml` file. Image files must be found under the `/assets/research` directory.

### Papers

The papers on this page come from a CSV stored in `/public/research/papers.csv`. This CSV must contain columns in the following order.
1. The name of the topic this paper is associated with. If this value does not _exactly_ match the name of a topic listed in the `content.yaml` file, the paper will not appear on the site.
2. The title of the paper.
3. An alternate title for the paper.
4. The type of the paper. The only valid values are: `conference`, `journal`, or `independent`.

All following columns will be interperted as the names of the authors on the paper. These names may instead be provided as slugs corresponding to team members. In that case, the team member's name will show under the paper on the research page and the paper will show under that team member on the [Team Page](#team-page). If the author name does not correspond to a team member slug, it will be shown exactly as provided.

This file must _not_ contain column header names. They are not compatible with the variable number of author columns. Any column headers provided will be interpreted as a paper.

## Team Page

### Text

The text for this page is stored in `/public/team/content.yaml`. The fields are:
- `metadata`: See [metadata](#metadata).

### Team Members

The members on this page come from a CSV stored in `/public/team/members.csv`. This CSV must contain columns in the following order.
1. A unique slug to identify the team member and correlate their contributions across pages.
2. The type of the team member. Valid values are `team` and `faculty`.
3. The date the team member started with the lab. It must be in the format `YYYY-MM-DD`.
4. The date the team member left the lab. It must be in the format `YYYY-MM-DD`. If this is not provided, the team member will be treated as a current member.
5. A link to a personal page for the team member. This field is optional.
6. A summary or description of the team member. This is optional free text and will display above their contributions.

This CSV expects a column row defining these columns exactly as below:

`slug,type,name,start,end,link,summary`

### Team Member Photos

To provide a photo of a team member, place it in the `/assets/team/` directory. In must be a PNG with a filename that exactly matches the team member's slug (example: `siobhan-oca.png`). This image should be high-quality and with a 1:1 aspect ratio. It will be cropped to a rounded circle and is intended for a face or logo.

If no image is provided, an avatar will be generated using the [Dicebear Thumbs](https://www.dicebear.com/styles/thumbs/) package. The avatar will be generated by seeding the generator with the team member's slug.

### Contributions

Team members' contributions are shown beneath them as long as those contributions have the team member's slug associated.

To associate a team member with a project, the team member's slug must appear under on of the collaborators on that project.

To associate a team member with a paper, the team member's slug must appear as an author of the paper.

## Local Development

To run the development server, first install [nvm](https://github.com/nvm-sh/nvm). This will allow you to install multiple node versions and easily switch between them. The installation of this command will vary by OS. Once installed, run the below to start the development server:

To run the development server:

```bash
# install the node version specified in .nvmrc
nvm install
# use that node version
nvm use
# install all dependencies
npm install
# run the development server
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.
